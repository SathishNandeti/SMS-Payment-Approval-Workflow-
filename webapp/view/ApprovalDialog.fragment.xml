<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    
    <Dialog
        title="{dialogModel>/title}"
        contentWidth="700px"
        contentHeight="600px"
        resizable="true"
        draggable="true"
        afterClose="onDialogAfterClose">
        
        <content>
            <VBox class="sapUiMediumMargin">
                
                <!-- Selected Items Count -->
                <Label 
                    text="Selected Items ({dialogModel>/itemCount}):"
                    class="sapUiMediumMarginBottom" />
                
                <!-- Items Table -->
                <Table
                    width="100%"
                    mode="None"
                    class="sapUiMediumMarginBottom"
                    growing="true"
                    growingThreshold="5"
                    items="{dialogModel>/selectedItems}">
                    
                    <columns>
                        <Column>
                            <Text text="Approval No" />
                        </Column>
                        <Column>
                            <Text text="Vendor" />
                        </Column>
                        <Column>
                            <Text text="Amount" />
                        </Column>
                        <Column>
                            <Text text="Status" />
                        </Column>
                    </columns>
                    
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{dialogModel>ApprovalNo}" />
                                <Text text="{dialogModel>VendorName}" />
                                <Text text="{dialogModel>InvoiceAmt} {dialogModel>Currency}" />
                                <ObjectStatus
                                    text="{dialogModel>PmApprStatus}"
                                    state="{path:'dialogModel>PmApprStatus', formatter:'.formatter.statusState'}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
                
                <!-- Remarks Section -->
                <Label 
                    text="{
                        parts: [
                            { path: 'dialogModel>/actionType' },
                            { path: 'dialogModel>/remarksRequired' }
                        ],
                        formatter: '.formatRemarksLabel'
                    }"
                    class="sapUiMediumMarginBottom" />
                
                <TextArea
                    id="idRemarksTextArea"
                    value="{dialogModel>/remarks}"
                    rows="4"
                    width="100%"
                    placeholder="Enter your remarks here..."
                    valueState="{dialogModel>/remarksValueState}"
                    valueStateText="{dialogModel>/remarksValueStateText}" />
                    
            </VBox>
        </content>
        
        <buttons>
            <Button
                id="idConfirmButton"
                text="{dialogModel>/actionType}"
                type="{path:'dialogModel>/actionType', formatter:'.formatButtonType'}"
                press="handleDialogConfirm" />
            <Button
                id="idCancelButton"
                text="Cancel"
                press="handleDialogCancel" />
        </buttons>
        
    </Dialog>
    
</core:FragmentDefinition><c:FragmentDefinition
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
>
</c:FragmentDefinition>