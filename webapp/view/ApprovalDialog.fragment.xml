<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <Dialog
        title="{dialogModel>/title}"
        contentWidth="700px"
        contentHeight="600px"
        resizable="true"
        draggable="true"
        afterClose="onDialogAfterClose">

        <content>
            <VBox class="sapUiMediumMargin">

                <!-- Selected Items Count -->
                <Label
                    text="Selected Items ({dialogModel>/itemCount}):"
                    class="sapUiMediumMarginBottom" />

                <!-- Items Table -->
                <Table
                    width="100%"
                    mode="None"
                    class="sapUiMediumMarginBottom"
                    growing="true"
                    growingThreshold="5"
                    items="{dialogModel>/selectedItems}">

                    <columns>
                        <Column><Text text="Approval No" /></Column>
                        <Column><Text text="Vendor" /></Column>
                        <Column><Text text="Amount" /></Column>
                        <Column><Text text="Status" /></Column>
                    </columns>

                    <items>
                        <ColumnListItem>
                            <cells>

                                <Text text="{dialogModel>ApprovalNo}" />
                                <Text text="{dialogModel>VendorName}" />

                                <Text
                                    text="{
                                        parts: [
                                            { path: 'dialogModel>isHeader' },
                                            { path: 'dialogModel>TotalInvoiceAmt' },
                                            { path: 'dialogModel>InvoiceAmt' },
                                            { path: 'dialogModel>Currency' }
                                        ],
                                        formatter: '.formatDialogAmount'
                                    }" />

                                <ObjectStatus
                                    text="{
                                        parts: [
                                            { path: 'dialogModel>isHeader' },
                                            { path: 'dialogModel>OverallStatus' },
                                            { path: 'dialogModel>PmApprStatus' }
                                        ],
                                        formatter: '.formatDialogStatusText'
                                    }"
                                    state="{
                                        parts: [
                                            { path: 'dialogModel>isHeader' },
                                            { path: 'dialogModel>OverallStatus' },
                                            { path: 'dialogModel>PmApprStatus' }
                                        ],
                                        formatter: '.formatDialogStatusState'
                                    }" />

                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>



            </VBox>
        </content>

        <buttons>
            <Button
                id="idConfirmButton"
                text="{dialogModel>/actionType}"
                type="{= ${dialogModel>/actionType} === 'Reject' ? 'Reject' : 'Accept' }"
                press="handleDialogConfirm" />

            <Button
                id="idCancelButton"
                text="Cancel"
                type="{= ${dialogModel>/actionType} === 'Reject' ? 'Reject' : 'Accept' }"
                press="handleDialogCancel" />
        </buttons>

    </Dialog>

</core:FragmentDefinition>
